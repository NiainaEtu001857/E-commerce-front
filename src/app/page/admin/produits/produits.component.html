<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-12">
      <div class="header">
        <div class="header-body">
          <div class="row align-items-center">
            <div class="col">
              <h6 class="header-pretitle">Overview</h6>
              <h1 class="header-title text-truncate">Listes des produits</h1>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-content">
        <div class="tab-pane fade show active" id="contactsListPane" role="tabpanel" aria-labelledby="contactsListTab">
          <div class="card" data-list='{"valueNames": ["item-shop", "item-ref", "item-name", "item-detail", "item-price", "item-min", "item-base", "item-attrs", "item-type"], "page": 10, "pagination": {"paginationClass": "list-pagination"}}' id="contactsList">
            <div class="card-header">
              <div class="row align-items-center">
                <div class="col">
                  <form>
                    <div class="input-group input-group-flush input-group-merge input-group-reverse">
                      <input class="form-control list-search" type="search" placeholder="Search">
                      <span class="input-group-text">
                        <i class="fe fe-search"></i>
                      </span>
                    </div>
                  </form>
                </div>
                <div class="col-auto me-n3">
                  <form>
                    <select class="form-select form-select-sm form-control-flush" data-choices='{"searchEnabled": false}'>
                      <option>5 per page</option>
                      <option selected>10 per page</option>
                      <option>All</option>
                    </select>
                  </form>
                </div>
              </div>
            </div>

            <div class="table-responsive">
              <table class="table table-sm table-hover table-nowrap card-table">
                <thead>
                  <tr>
                    <th>
                      <div class="form-check mb-n2">
                        <input class="form-check-input list-checkbox-all" id="listCheckboxAll" type="checkbox">
                        <label class="form-check-label" for="listCheckboxAll"></label>
                      </div>
                    </th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-shop" href="#">Boutique</a></th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-ref" href="#">Ref</a></th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-name" href="#">Produit</a></th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-price" href="#">Prix</a></th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-min" href="#">Min Qty</a></th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-base" href="#">Base Unity</a></th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-attrs" href="#">Attributs</a></th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-detail" href="#">Description</a></th>
                    <th><a class="list-sort text-body-secondary" data-sort="item-type" href="#">Type</a></th>
                    <th class="text-end">Autre</th>
                  </tr>
                </thead>
                <tbody class="list fs-base">
                  <tr *ngIf="isLoading">
                    <td colspan="11" class="text-center py-4">Chargement des produits...</td>
                  </tr>

                  <tr *ngIf="!isLoading && errorMessage">
                    <td colspan="11" class="text-center py-4 text-danger">{{ errorMessage }}</td>
                  </tr>

                  <tr *ngIf="!isLoading && !errorMessage && services.length === 0">
                    <td colspan="11" class="text-center py-4">Aucun produit trouv√©.</td>
                  </tr>

                  <tr *ngFor="let service of services">
                    <td>
                      <div class="form-check">
                        <input class="form-check-input list-checkbox" [id]="'service-' + service._id" type="checkbox">
                        <label class="form-check-label" [for]="'service-' + service._id"></label>
                      </div>
                    </td>
                    <td><span class="item-shop text-reset">{{ getShopName(service) }}</span></td>
                    <td><span class="item-ref text-muted">{{ service.ref || '-' }}</span></td>
                    <td><span class="item-name text-reset">{{ service.name }}</span></td>
                    <td><span class="item-price text-reset">{{ service.sale_price }} Ar</span></td>
                    <td><span class="item-min text-reset">{{ service.min_quantity ?? '-' }}</span></td>
                    <td><span class="item-base text-reset">{{ service.base_unity || '-' }}</span></td>
                    <td><span class="item-attrs text-reset">{{ formatAttributes(service.attributes) }}</span></td>
                    <td><span class="item-detail text-reset">{{ service.detail }}</span></td>
                    <td><span class="item-type badge text-bg-light">{{ service.type || '-' }}</span></td>
                    <td class="text-end">
                      <div class="dropdown">
                        <a class="dropdown-ellipses dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="fe fe-more-vertical"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                          <a [routerLink]="['/admin/clients-detail']" class="dropdown-item">Detail</a>
                          <a href="#!" class="dropdown-item">Suprimer</a>
                          <a href="#!" class="dropdown-item">Inactif</a>
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
